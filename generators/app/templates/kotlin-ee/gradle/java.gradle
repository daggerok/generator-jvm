allprojects {
  apply plugin: 'java'

  apply plugin: 'io.franzbecker.gradle-lombok'
  lombok.version = project.lombokVersion

  version = project.findProperty('ogr.gradle.project.version') ?: '0.0.1'
  group = 'com.github.daggerok'
  sourceCompatibility = targetCompatibility = "$javaVersion"

  /*
  apply plugin: 'ear'

  ear {
    archiveName = "${project.name}.ear"
  }
  */

  apply plugin: 'war'

  war {
    archiveName = "${project.name}.war"
  }

  defaultTasks 'clean', 'build'

  compileJava.dependsOn(processResources)

  dependencies {

    providedCompile "javax:javaee-api:$javaeeVersion"
    //providedCompile "org.jboss.resteasy:resteasy-jaxrs:$resteasyVersion"
    //providedCompile "org.jboss.resteasy:resteasy-multipart-provider:$resteasyVersion"
    //providedCompile "org.jboss.resteasy:resteasy-json-p-provider:$resteasyVersion"
    //implementation "org.jboss.resteasy:resteasy-json-p-provider:$resteasyVersion"
    implementation 'javax.json:javax.json-api:1.0'
    implementation 'org.glassfish:javax.json:1.0.4'

    providedCompile 'com.h2database:h2:1.4.196'
    //implementation "org.hibernate:hibernate-core:$hibernateCoreVersion"

    //// In java we trust...
    testImplementation "io.vavr:vavr:$vavrVersion"
  }
}
